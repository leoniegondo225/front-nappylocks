{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/HP/Desktop/Leonie/Nappyloks/nappy-locks-front-end-development%20%282%29/components/cart/cart-drawer.tsx"],"sourcesContent":["\"use client\"\n\nimport { useCartStore } from \"@/lib/cart-store\"\nimport { Button } from \"@/components/ui/button\"\nimport { Sheet, SheetContent, SheetHeader, SheetTitle, SheetTrigger } from \"@/components/ui/sheet\"\nimport { ShoppingCart, Trash2, Plus, Minus } from \"lucide-react\"\nimport Image from \"next/image\"\nimport Link from \"next/link\"\nimport { useState } from \"react\"\n\nexport function CartDrawer() {\n  const { items, removeItem, updateQuantity, getTotalItems, getTotalPrice } = useCartStore()\n  const [isOpen, setIsOpen] = useState(false)\n\n  const totalItems = getTotalItems()\n  const totalPrice = getTotalPrice()\n\n  return (\n    <Sheet open={isOpen} onOpenChange={setIsOpen}>\n      <SheetTrigger asChild>\n        <Button variant=\"ghost\" size=\"icon\" className=\"relative\">\n          <ShoppingCart className=\"w-5 h-5\" />\n          {totalItems > 0 && (\n            <span className=\"absolute -top-1 -right-1 w-5 h-5 bg-foreground text-background text-xs rounded-full flex items-center justify-center font-semibold\">\n              {totalItems}\n            </span>\n          )}\n        </Button>\n      </SheetTrigger>\n\n      <SheetContent className=\"w-full sm:max-w-lg flex flex-col\">\n        <SheetHeader>\n          <SheetTitle className=\"text-2xl\">Panier ({totalItems})</SheetTitle>\n        </SheetHeader>\n\n        {items.length === 0 ? (\n          <div className=\"flex-1 flex flex-col items-center justify-center text-center py-12\">\n            <ShoppingCart className=\"w-16 h-16 text-muted-foreground mb-4\" />\n            <p className=\"text-lg font-medium mb-2\">Votre panier est vide</p>\n            <p className=\"text-sm text-muted-foreground mb-6\">Ajoutez des produits pour commencer vos achats</p>\n            <Button asChild onClick={() => setIsOpen(false)}>\n              <Link href=\"/shop\">Découvrir la boutique</Link>\n            </Button>\n          </div>\n        ) : (\n          <>\n            {/* Cart Items */}\n            <div className=\"flex-1 overflow-y-auto py-6 -mx-6 px-6\">\n              <div className=\"space-y-4\">\n                {items.map((item) => (\n                  <div key={item.id} className=\"flex gap-4 pb-4 border-b border-border\">\n                    {/* Image */}\n                    <div className=\"relative w-20 h-20 flex-shrink-0 rounded-md overflow-hidden bg-muted\">\n                      <Image src={item.image || \"/placeholder.svg\"} alt={item.name} fill className=\"object-cover\" />\n                    </div>\n\n                    {/* Details */}\n                    <div className=\"flex-1 min-w-0\">\n                      <h4 className=\"font-medium text-sm mb-1 line-clamp-2\">{item.name}</h4>\n                      <p className=\"text-sm font-semibold mb-2\">{item.price}€</p>\n\n                      {/* Quantity Controls */}\n                      <div className=\"flex items-center gap-2\">\n                        <Button\n                          variant=\"outline\"\n                          size=\"icon\"\n                          className=\"h-7 w-7 bg-transparent\"\n                          onClick={() => updateQuantity(item.id, item.quantity - 1)}\n                        >\n                          <Minus className=\"w-3 h-3\" />\n                        </Button>\n                        <span className=\"text-sm font-medium w-8 text-center\">{item.quantity}</span>\n                        <Button\n                          variant=\"outline\"\n                          size=\"icon\"\n                          className=\"h-7 w-7 bg-transparent\"\n                          onClick={() => updateQuantity(item.id, item.quantity + 1)}\n                        >\n                          <Plus className=\"w-3 h-3\" />\n                        </Button>\n                      </div>\n                    </div>\n\n                    {/* Remove Button */}\n                    <button\n                      onClick={() => removeItem(item.id)}\n                      className=\"text-muted-foreground hover:text-destructive transition-colors\"\n                    >\n                      <Trash2 className=\"w-4 h-4\" />\n                    </button>\n                  </div>\n                ))}\n              </div>\n            </div>\n\n            {/* Footer */}\n            <div className=\"border-t border-border pt-6 space-y-4\">\n              {/* Total */}\n              <div className=\"flex items-center justify-between text-lg font-semibold\">\n                <span>Total</span>\n                <span>{totalPrice.toFixed(2)}€</span>\n              </div>\n\n              {/* Actions */}\n              <Button className=\"w-full h-12 text-base\" asChild>\n                <Link href=\"/cart\" onClick={() => setIsOpen(false)}>\n                  Passer la commande\n                </Link>\n              </Button>\n              <Button\n                variant=\"outline\"\n                className=\"w-full h-12 text-base bg-transparent\"\n                onClick={() => setIsOpen(false)}\n                asChild\n              >\n                <Link href=\"/shop\">Continuer mes achats</Link>\n              </Button>\n            </div>\n          </>\n        )}\n      </SheetContent>\n    </Sheet>\n  )\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 363, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/HP/Desktop/Leonie/Nappyloks/nappy-locks-front-end-development%20%282%29/components/theme-toggle.tsx"],"sourcesContent":["\"use client\"\n\nimport { Moon, Sun } from \"lucide-react\"\nimport { Button } from \"@/components/ui/button\"\nimport { useThemeStore } from \"@/lib/theme-store\"\nimport { useEffect } from \"react\"\n\nexport function ThemeToggle() {\n  const { theme, toggleTheme, setTheme } = useThemeStore()\n\n  useEffect(() => {\n    // Initialize theme on mount\n    document.documentElement.classList.toggle(\"dark\", theme === \"dark\")\n  }, [theme])\n\n  return (\n    <Button variant=\"ghost\" size=\"icon\" onClick={toggleTheme} className=\"h-10 w-10\">\n      {theme === \"light\" ? <Moon className=\"w-5 h-5\" /> : <Sun className=\"w-5 h-5\" />}\n      <span className=\"sr-only\">Changer le thème</span>\n    </Button>\n  )\n}\n"],"names":[],"mappings":";;;;;AAEA;AAAA;AACA;AACA;AACA;AALA;;;;;;AAOO,SAAS;IACd,MAAM,EAAE,KAAK,EAAE,WAAW,EAAE,QAAQ,EAAE,GAAG,IAAA,sIAAa;IAEtD,IAAA,iVAAS,EAAC;QACR,4BAA4B;QAC5B,SAAS,eAAe,CAAC,SAAS,CAAC,MAAM,CAAC,QAAQ,UAAU;IAC9D,GAAG;QAAC;KAAM;IAEV,qBACE,6WAAC,qIAAM;QAAC,SAAQ;QAAQ,MAAK;QAAO,SAAS;QAAa,WAAU;;YACjE,UAAU,wBAAU,6WAAC,8RAAI;gBAAC,WAAU;;;;;qCAAe,6WAAC,2RAAG;gBAAC,WAAU;;;;;;0BACnE,6WAAC;gBAAK,WAAU;0BAAU;;;;;;;;;;;;AAGhC"}},
    {"offset": {"line": 425, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/HP/Desktop/Leonie/Nappyloks/nappy-locks-front-end-development%20%282%29/components/navigation/header.tsx"],"sourcesContent":["\"use client\"\n\nimport Link from \"next/link\"\nimport { Search, User, LogOut } from \"lucide-react\"\nimport { Button } from \"@/components/ui/button\"\nimport { CartDrawer } from \"@/components/cart/cart-drawer\"\nimport { ThemeToggle } from \"@/components/theme-toggle\"\n// ← IMPORTE useAuthSafe ICI\nimport {\n  DropdownMenu,\n  DropdownMenuContent,\n  DropdownMenuItem,\n  DropdownMenuLabel,\n  DropdownMenuSeparator,\n  DropdownMenuTrigger,\n} from \"@/components/ui/dropdown-menu\"\nimport { useAuthSafe } from \"@/hooks/useAuthSafe\"\nimport { useAuthStore } from \"@/lib/auth-store\"\n\nexport function Header() {\n  // ← REMPLACE useAuthStore par useAuthSafe\n  const { user, isAuthenticated } = useAuthSafe()  // ← SEULEMENT ÇA À CHANGER\n  const { logout } = useAuthStore()                // ← logout peut rester du store normal\n\n  return (\n    <header className=\"sticky top-0 z-40 w-full bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/80 border-b border-border\">\n      <div className=\"container mx-auto px-4 h-14 md:h-16 flex items-center justify-between\">\n        {/* Logo */}\n        <Link href=\"/\" className=\"flex items-center\">\n          <img className=\" w-16 h-16\" src=\"/logonappy.png\" alt=\"logo\" />\n        </Link>\n\n        {/* Desktop Navigation */}\n        <nav className=\"hidden md:flex items-center gap-6\">\n          <Link href=\"/\" className=\"text-sm font-medium hover:text-foreground/80 transition-colors\">\n            Accueil\n          </Link>\n          <Link href=\"/categories\" className=\"text-sm font-medium hover:text-foreground/80 transition-colors\">\n            Catégories\n          </Link>\n          <Link href=\"/services\" className=\"text-sm font-medium hover:text-foreground/80 transition-colors\">\n            Services\n          </Link>\n          <Link href=\"/shop\" className=\"text-sm font-medium hover:text-foreground/80 transition-colors\">\n            Boutique\n          </Link>\n          <Link href=\"/about\" className=\"text-sm font-medium hover:text-foreground/80 transition-colors\">\n            À propos\n          </Link>\n          <Link href=\"/contact\" className=\"text-sm font-medium hover:text-foreground/80 transition-colors\">\n            Contact\n          </Link>\n        </nav>\n\n        {/* Actions */}\n        <div className=\"flex items-center gap-1 md:gap-2\">\n          {/* Theme Toggle Button */}\n          <ThemeToggle />\n\n          <Button variant=\"ghost\" size=\"icon\" className=\"h-10 w-10 md:flex\">\n            <Search className=\"w-5 h-5\" />\n            <span className=\"sr-only\">Rechercher</span>\n          </Button>\n          <CartDrawer />\n\n          <div className=\"hidden md:block\">\n            {isAuthenticated && user ? (\n              <DropdownMenu>\n                <DropdownMenuTrigger asChild>\n                  <Button variant=\"ghost\" size=\"icon\" className=\"h-10 w-10\">\n                    <User className=\"w-5 h-5\" />\n                    <span className=\"sr-only\">Mon compte</span>\n                  </Button>\n                </DropdownMenuTrigger>\n                <DropdownMenuContent align=\"end\" className=\"w-56\">\n                  <DropdownMenuLabel>\n                    <div className=\"flex flex-col\">\n                      <span className=\"font-semibold\">{user.username}</span>\n                      <span className=\"text-xs text-muted-foreground\">{user.email}</span>\n                    </div>\n                  </DropdownMenuLabel>\n                  <DropdownMenuSeparator />\n                  <DropdownMenuItem asChild>\n                    <Link href=\"/account\" className=\"cursor-pointer\">\n                      <User className=\"w-4 h-4 mr-2\" />\n                      Mon compte\n                    </Link>\n                  </DropdownMenuItem>\n                  {user.role === \"superadmin\" && (\n                    <DropdownMenuItem asChild>\n                      <Link href=\"/admin\" className=\"cursor-pointer\">\n                        <User className=\"w-4 h-4 mr-2\" />\n                        Dashboard Admin\n                      </Link>\n                    </DropdownMenuItem>\n                  )}\n                  {user.role === \"gerant\" && (\n                    <DropdownMenuItem asChild>\n                      <Link href=\"/manager\" className=\"cursor-pointer\">\n                        <User className=\"w-4 h-4 mr-2\" />\n                        Dashboard manager\n                      </Link>\n                    </DropdownMenuItem>\n                  )}\n                  <DropdownMenuSeparator />\n                  <DropdownMenuItem onClick={logout} className=\"cursor-pointer text-destructive focus:text-destructive\">\n                    <LogOut className=\"w-4 h-4 mr-2\" />\n                    Se déconnecter\n                  </DropdownMenuItem>\n                </DropdownMenuContent>\n              </DropdownMenu>\n            ) : (\n              <Button variant=\"ghost\" size=\"sm\" asChild>\n                <Link href=\"/auth/login\">Connexion</Link>\n              </Button>\n            )}\n          </div>\n        </div>\n      </div>\n    </header>\n  )\n}"],"names":[],"mappings":"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"}}]
}